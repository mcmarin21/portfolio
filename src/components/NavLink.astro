---
import type {HTMLAttributes} from "astro/types";
import {cn} from "../lib/utils";

type Props = HTMLAttributes<'a'>

const{ href, class: className, ...props } = Astro.props;

const {pathname} = Astro.url;
const subpath = pathname.match(/[^\/]+/g);
const isActive = pathname === href || href === '/' + subpath?.[0];
---

<a href={href} class={cn(className, "group flex flex-col items-center my-2 transition-transform hover:-translate-y-0.5", isActive ? 'text-accent' : 'text-foreground')} {...props}>
    <slot />
    <div class="bg-primary h-[2px] rounded-full w-0 group-hover:w-full transition-all duration-350 ease-out"></div>
</a>